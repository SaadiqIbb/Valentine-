<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Will you be my Valentine?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --bg1:#ffd6e7;--bg2:#ffeef6;--card:#ffffffcc;--yes:#ff3b7a;--yesHover:#ff1f68;
}
*{box-sizing:border-box}
body{
  margin:0;min-height:100svh;display:grid;place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,sans-serif;overflow:hidden;padding:16px;
  user-select:none;-webkit-user-select:none;
}
#confettiCanvas{
  position:fixed;inset:0;width:100%;height:100%;
  pointer-events:none;z-index:9999;
}
.card{
  width:min(720px,92vw);padding:26px 22px;background:var(--card);
  backdrop-filter:blur(10px);border-radius:22px;text-align:center;
  box-shadow:0 18px 60px rgba(0,0,0,.15);
}
h1{font-size:clamp(26px,4vw,44px)}
.button-zone{
  position:relative;width:min(520px,92%);height:150px;margin:0 auto;
  touch-action:none;
}
button{
  position:absolute;top:50%;transform:translateY(-50%);
  padding:16px 24px;font-size:18px;font-weight:800;
  border-radius:999px;border:none;cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.14);
}
#yesBtn{left:18%;background:var(--yes);color:#fff}
#noBtn{left:62%;top:50%;background:#e5e7eb;color:#111827}
.hint{margin-top:10px;font-size:13px;opacity:.7}
.result{display:none;margin-top:18px}
.result p{opacity:0;transition:.6s}
.result p.show{opacity:1}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<audio id="loveMusic" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2fddf6c1f5.mp3?filename=romantic-ambient-11160.mp3" type="audio/mpeg">
</audio>

<main class="card">
<h1>Fatima, will you be my Valentine?</h1>

<section class="button-zone" id="zone">
<button id="yesBtn">Yes</button>
<button id="noBtn">No</button>
</section>

<div class="hint" id="hint">‚ÄúNo‚Äù seems a bit shy üòà</div>

<section class="result" id="result">
<h2>Naji dadi da kika danna "Yes" üòÅ</h2>
<p id="loveLine">Ina matu∆ôar kaunarki ‚ù§Ô∏è</p>
</section>
</main>

<script>
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const hint=document.getElementById("hint");
const loveMusic=document.getElementById("loveMusic");
const loveLine=document.getElementById("loveLine");
const confettiCanvas=document.getElementById("confettiCanvas");

document.addEventListener("pointerdown",()=>{
  loveMusic.play().then(()=>{
    loveMusic.pause();loveMusic.currentTime=0;
  }).catch(()=>{});
},{once:true});

const confettiInstance=confetti.create(confettiCanvas,{resize:true,useWorker:true});

function boom(){
  const end=Date.now()+1500;
  (function f(){
    confettiInstance({particleCount:12,spread:100,startVelocity:45});
    if(Date.now()<end)requestAnimationFrame(f);
  })();
}

let yesScale=1;
function growYes(){
  yesScale=Math.min(2.2,yesScale+.1);
  yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(x,y){
  const z=zone.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();
  let dx=(b.left+b.width/2)-x;
  let dy=(b.top+b.height/2)-y;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag;dy/=mag;
  let nl=(b.left-z.left)+dx*150;
  let nt=(b.top-z.top)+dy*150;
  noBtn.style.left=clamp(nl,0,z.width-b.width)+"px";
  noBtn.style.top=clamp(nt,0,z.height-b.height)+"px";
  growYes();
}

zone.addEventListener("pointermove",e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot((b.left+b.width/2)-e.clientX,(b.top+b.height/2)-e.clientY);
  if(d<140)moveNo(e.clientX,e.clientY);
});

yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  hint.style.display="none";
  result.style.display="block";
  boom();
  loveMusic.volume=.6;
  loveMusic.play();
  setTimeout(()=>loveLine.classList.add("show"),1200);
});
</script>
</body>
</html>
